{"swagger":"2.0","info":{"version":"v0.1.4","title":"Monopoly Deal API","license":{"url":"https://www.gnu.org/licenses/","name":"GNUv3"},"description":"This is an API for the Monopoly Deal Game"},"paths":{"/api/v1/game":{"get":{"tags":["game"],"summary":"Obtain all the open public games","produces":["application/json;charset=utf-8"],"responses":{"200":{"schema":{"allOf":[{"$ref":"#/definitions/Message"},{"type":"object","properties":{"payload":{"$ref":"#/definitions/Game"}}}],"type":"object"},"description":""}}},"post":{"tags":["game"],"summary":"Create a new game","description":"Creates a game, making the host as the creator of this game. The host may also choose the card deck (game mode) to from.","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"required":true,"schema":{"$ref":"#/definitions/NewGame"},"in":"body","name":"body"}],"responses":{"400":{"description":"Invalid `body`"},"200":{"schema":{"allOf":[{"$ref":"#/definitions/Message"},{"type":"object","properties":{"payload":{"$ref":"#/definitions/CreatedGame"}}}],"type":"object"},"description":""}}}},"/api/v1/game/{gid}":{"get":{"tags":["game"],"summary":"Obtain the game information of a specific ID","produces":["application/json;charset=utf-8"],"parameters":[{"required":true,"in":"path","name":"gid","type":"integer"}],"responses":{"404":{"description":"`gid` not found"},"200":{"schema":{"allOf":[{"$ref":"#/definitions/Message"},{"type":"object","properties":{"payload":{"$ref":"#/definitions/Game"}}}],"type":"object"},"description":""}}}},"/api/v1/game/{gid}/status":{"get":{"tags":["game"],"summary":"Obtain more in-depth game information","description":"This obtains some basic game information such as current player making moves, and what players are in the game at the moment.","produces":["application/json;charset=utf-8"],"parameters":[{"required":true,"in":"path","name":"gid","type":"integer"}],"responses":{"404":{"description":"`gid` not found"},"200":{"schema":{"allOf":[{"$ref":"#/definitions/Message"},{"type":"object","properties":{"payload":{"$ref":"#/definitions/GameStatus"}}}],"type":"object"},"description":""}}}},"/api/v1/game/{gid}/history":{"get":{"tags":["game"],"summary":"Obtain play history of a game","description":"This gives a list of all cards that have been played so far in the specified game, where the latest event occurs earlier in the list. Eventually this should only filter out only the latest actions so to minimize the size of the request","produces":["application/json;charset=utf-8"],"parameters":[{"required":true,"in":"path","name":"gid","type":"integer"}],"responses":{"404":{"description":"`gid` not found"},"200":{"schema":{"allOf":[{"$ref":"#/definitions/Message"},{"type":"object","properties":{"payload":{"$ref":"#/definitions/History"}}}],"type":"object"},"description":""}}}},"/api/v1/login":{"post":{"tags":["auth"],"summary":"Authenticate with username and password","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"required":true,"schema":{"$ref":"#/definitions/UserAuth"},"in":"body","name":"body"}],"responses":{"400":{"description":"Invalid `body`"},"200":{"schema":{"allOf":[{"$ref":"#/definitions/Message"},{"type":"object","properties":{"payload":{"type":"object"}}}],"type":"object"},"description":""}}}},"/api/v1/signup":{"post":{"tags":["auth"],"summary":"Create new user","consumes":["application/json;charset=utf-8"],"produces":["application/json;charset=utf-8"],"parameters":[{"required":true,"schema":{"$ref":"#/definitions/NewUser"},"in":"body","name":"body"}],"responses":{"400":{"description":"Invalid `body`"},"200":{"schema":{"allOf":[{"$ref":"#/definitions/Message"},{"type":"object","properties":{"payload":{"type":"object"}}}],"type":"object"},"description":""}}}}},"definitions":{"Message":{"required":["status","message"],"properties":{"status":{"example":200,"maximum":599,"minimum":0,"type":"integer"},"message":{"type":"string"},"payload":{"type":"object"}},"type":"object"},"Game":{"required":["creator","created","usesDeck","finished","discardSize","drawSize"],"properties":{"creator":{"type":"integer"},"created":{"$ref":"#/definitions/UTCTime"},"usesDeck":{"type":"integer"},"finished":{"type":"boolean"},"discardSize":{"maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"},"drawSize":{"maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"}},"type":"object"},"UTCTime":{"example":"2016-07-22T00:00:00Z","format":"yyyy-mm-ddThh:MM:ssZ","type":"string"},"CreatedGame":{"required":["id","player"],"properties":{"id":{"type":"integer"},"player":{"type":"integer"}},"type":"object"},"NewGame":{"required":["name","usesDeck"],"properties":{"name":{"type":"string"},"usesDeck":{"type":"integer"}},"type":"object"},"GameStatus":{"required":["game","players","discard","hand"],"properties":{"game":{"allOf":[{"type":"object","properties":{"id":{"type":"integer"}}},{"$ref":"#/definitions/Game"}],"type":"object"},"me":{"type":"integer"},"players":{"additionalProperties":{"$ref":"#/definitions/PlayerInfo"},"type":"object"},"discard":{"items":{"$ref":"#/definitions/CardInfo"},"type":"array"},"hand":{"items":{"$ref":"#/definitions/CardInfo"},"type":"array"}},"type":"object"},"PlayerInfo":{"required":["id","stat","handSize","field"],"properties":{"id":{"type":"integer"},"stat":{"$ref":"#/definitions/Player"},"handSize":{"maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"},"field":{"items":{"$ref":"#/definitions/CardInfo"},"type":"array"}},"type":"object"},"Player":{"required":["playing","user","isPaying","turnNum"],"properties":{"playing":{"type":"integer"},"user":{"type":"integer"},"isPaying":{"type":"boolean"},"turnNum":{"maximum":3,"minimum":0,"type":"integer","description":"the turn number, can be null if user is not taking a turn"}},"type":"object"},"CardInfo":{"required":["id","spec","type","location"],"properties":{"id":{"type":"integer"},"spec":{"type":"integer"},"type":{"$ref":"#/definitions/CardType"},"location":{"$ref":"#/definitions/CardLocation"},"ofPropColor":{"type":"integer"}},"type":"object"},"CardType":{"type":"string","enum":["CAction","CProperty","CCash"]},"CardLocation":{"type":"string","enum":["LHand","LCashPile","LDraw","LDiscard","LPropStack"]},"History":{"items":{"$ref":"#/definitions/Action"},"type":"array"},"Action":{"required":["ofGame","madeAt","type","maker","targets"],"properties":{"ofGame":{"type":"integer"},"madeAt":{"$ref":"#/definitions/UTCTime"},"type":{"type":"integer"},"maker":{"type":"integer"},"targets":{"type":"integer"}},"type":"object"},"UserAuth":{"required":["userName","password"],"properties":{"userName":{"type":"string"},"password":{"type":"string"}},"type":"object"},"NewUser":{"required":["userName","password","email"],"properties":{"userName":{"type":"string"},"password":{"type":"string"},"email":{"type":"string"}},"type":"object"}},"tags":[{"name":"auth","description":"Authenticating to service"},{"name":"game","description":"Game status operations"}]}